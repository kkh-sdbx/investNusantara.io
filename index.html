<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" >
    <meta name="referrer" content="no-referrer-when-downgrade">
    <title>IKN Nusantara Real Estate MVP</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
      crossorigin=""/>
    <style>
        #map { 
            height: 60vh; 
            width: 60vw; 
            box-shadow: 0 0 20px rgba(0,0,0,0.1); /* 그림자를 주면 더 전문적으로 보입니다 */
            border-radius: 12px; /* 모서리를 살짝 깎으면 MVP 느낌이 납니다 */
        } /* 전체 화면 지도 */
        body { 
            height: 100%; 
            width: 100vw;
            margin: 0; 
            padding: 0; 
            display: flex; /* 지도를 가운데 정렬하고 싶을 때 유용합니다 */
            justify-content: center;
            align-items: center;
            background-color: #f4f4f4; 
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
        crossorigin=""></script>
    <script>
        // 1. 지도 초기화 (누산타라 좌표: -0.83, 116.69)
        const southWest = L.latLng(-0.950, 116.600);
        const northEast = L.latLng(-0.750, 116.850);
        const bounds = L.latLngBounds(southWest, northEast);

        const map = L.map('map', {
            center: [-0.844, 116.711],
            zoom: 13,
            minZoom: 11,
            maxZoom: 18,
            maxBounds: bounds,         // 영역 이탈 방지
            maxBoundsViscosity: 1.0    // 경계에 닿으면 튕겨져 나가지 않게 고정
        });
        

        // 2. 무료 OSM 타일 레이어 추가
       L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap'
        }).addTo(map);
        // 3. 백엔드 연결 전 샘플 데이터로 테스트
        const mockupData = [
            { id: 1, name: "대통령궁 예정지", pos: [-0.836, 116.690], info: "2026년 완공 예정" },
            { id: 2, name: "외국인 투자 1구역", pos: [-0.850, 116.710], info: "HGB 160년 보장 구역" }
        ];

        // 4. 데이터 뿌리기
        mockupData.forEach(item => {
            L.marker(item.pos).addTo(map)
                .bindPopup(`<b>${item.name}</b><br>${item.info}`);
        });

        let investZone = L.rectangle([
            [-0.840, 116.685], // 좌측 상단
            [-0.860, 116.720]  // 우측 하단
        ], {color: "#ff7800", weight: 1, fillOpacity: 0.3}).addTo(map);

        investZone.bindPopup("Zone 예시");
    </script>
</body>
</html>